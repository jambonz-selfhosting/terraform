# Example Terraform variables for jambonz mini deployment on Azure
# Copy this file to terraform.tfvars and fill in your values

# ------------------------------------------------------------------------------
# AZURE CREDENTIALS
# These can also be set via environment variables:
#   export ARM_SUBSCRIPTION_ID="your-subscription-id"
#   export ARM_TENANT_ID="your-tenant-id"
# Or use Azure CLI: az login
# ------------------------------------------------------------------------------

subscription_id = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
tenant_id       = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

# ------------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION
# ------------------------------------------------------------------------------

# Azure region - see https://azure.microsoft.com/en-us/global-infrastructure/locations/
# Common options: eastus, eastus2, westus2, westeurope, northeurope, etc.
location = "eastus"

# Prefix for resource names
name_prefix = "jambonz"

# Environment label
environment = "production"

# ------------------------------------------------------------------------------
# IMAGE CONFIGURATION
# Use EITHER image_name + image_resource_group OR image_id
# ------------------------------------------------------------------------------

# Option 1: Reference image by name (requires image_resource_group)
image_name           = "jambonz-mini-debian-12"
image_resource_group = "packer-images-rg"

# Option 2: Reference image by full resource ID (takes precedence)
# image_id = "/subscriptions/xxx/resourceGroups/xxx/providers/Microsoft.Compute/images/jambonz-mini-debian-12"

# ------------------------------------------------------------------------------
# INSTANCE CONFIGURATION
# ------------------------------------------------------------------------------

# VM size - see https://docs.microsoft.com/en-us/azure/virtual-machines/sizes
# Recommended: Standard_D2s_v3 or larger for production
vm_size = "Standard_D2s_v3"

# OS disk size in GB
disk_size = 50

# ------------------------------------------------------------------------------
# SSH CONFIGURATION
# ------------------------------------------------------------------------------

# SSH public key content (required)
ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAB... user@host"

# ------------------------------------------------------------------------------
# NETWORK ACCESS CONTROLS
# Use x.x.x.x/32 for a single IP, or 0.0.0.0/0 for any IP (less secure)
# ------------------------------------------------------------------------------

# SSH access - IMPORTANT: Restrict this for security
allowed_ssh_cidr = "203.0.113.50/32"

# HTTP/HTTPS access
allowed_http_cidr = "0.0.0.0/0"

# SIP access (UDP/TCP 5060, TLS 5061, WSS 8443)
allowed_sip_cidr = "0.0.0.0/0"

# RTP media access (UDP 40000-60000)
allowed_rtp_cidr = "0.0.0.0/0"

# ------------------------------------------------------------------------------
# JAMBONZ CONFIGURATION
# ------------------------------------------------------------------------------

# DNS name for the jambonz portal
# You'll need to create DNS A records pointing to the server IP for:
#   - jambonz.example.com
#   - api.jambonz.example.com
#   - grafana.jambonz.example.com
#   - homer.jambonz.example.com
#   - sip.jambonz.example.com
url_portal = "jambonz.example.com"
