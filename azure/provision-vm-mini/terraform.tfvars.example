# Example Terraform variables for jambonz mini deployment on Azure
# Copy this file to terraform.tfvars and fill in your values

# ------------------------------------------------------------------------------
# REQUIRED VARIABLES
# You MUST provide values for these - Terraform will fail without them
# ------------------------------------------------------------------------------

# Azure credentials (get these with: az account show)
subscription_id = ""  # REQUIRED: Your Azure subscription ID
tenant_id       = ""  # REQUIRED: Your Azure tenant ID

# SSH public key for VM access
# Example: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDx... user@host"
ssh_public_key = ""  # REQUIRED: Your SSH public key content

# DNS name for the jambonz portal
# You'll need to create DNS A records pointing to the server IP for:
#   - jambonz.example.com
#   - api.jambonz.example.com
#   - grafana.jambonz.example.com
#   - homer.jambonz.example.com
#   - sip.jambonz.example.com
url_portal = ""  # REQUIRED: e.g., "jambonz.example.com"

# ------------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION
# ------------------------------------------------------------------------------

# Azure region - jambonz images are available in these regions:
#
# Americas:      eastus, eastus2, westus2, westus3, centralus,
#                northcentralus, southcentralus, canadacentral, brazilsouth
# Europe:        northeurope, westeurope, uksouth, francecentral,
#                germanywestcentral, swedencentral
# Asia Pacific:  australiaeast, southeastasia, japaneast, koreacentral, centralindia
#
# Need a different region? Contact support@jambonz.org
location = "eastus"

# Prefix for resource names
name_prefix = "jambonz"

# Environment label
environment = "production"

# ------------------------------------------------------------------------------
# JAMBONZ IMAGE CONFIGURATION
# Images are pulled from the jambonz Azure Community Gallery
# See https://docs.jambonz.org/releases for available versions
# ------------------------------------------------------------------------------

# jambonz version (image version in community gallery)
jambonz_version = "10.0.4"

# Community gallery name (default should work for most users)
# community_gallery_name = "jambonz-8962e4f5-da0f-41ee-b094-8680ad38d302"

# ------------------------------------------------------------------------------
# INSTANCE CONFIGURATION
# ------------------------------------------------------------------------------

# VM size - see https://docs.microsoft.com/en-us/azure/virtual-machines/sizes
# Recommended: Standard_D2s_v3 or larger for production
vm_size = "Standard_D2s_v3"

# OS disk size in GB
disk_size = 100

# ------------------------------------------------------------------------------
# NETWORK ACCESS CONTROLS
# Use x.x.x.x/32 for a single IP, or 0.0.0.0/0 for any IP (less secure)
# ------------------------------------------------------------------------------

allowed_ssh_cidr = "0.0.0.0/0"

# HTTP/HTTPS access
allowed_http_cidr = "0.0.0.0/0"

# SIP access (UDP/TCP 5060, TLS 5061, WSS 8443)
allowed_sip_cidr = "0.0.0.0/0"

# RTP media access (UDP 40000-60000)
allowed_rtp_cidr = "0.0.0.0/0"
